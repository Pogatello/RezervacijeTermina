#pragma checksum "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "68c37b3139410d0330ef03b92fc88a29992a30f2"
// <auto-generated/>
#pragma warning disable 1591
namespace ZavrsniRad.RezervacijeTermina.Pages.Shared.Components
{
    #line hidden
    using System.Collections.Generic;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\_Imports.razor"
using ZavrsniRad.RezervacijeTermina;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\_Imports.razor"
using ZavrsniRad.RezervacijeTermina.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
using Blazorise;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
using System;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
using System.Globalization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
using System.Linq;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
using ZavrsniRad.RezervacijeTermina.Data.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
using ZavrsniRad.RezervacijeTermina.Data.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
using Microsoft.AspNetCore.Identity;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
using Data.Messaging.ReservationPeriod.Request;

#line default
#line hidden
#nullable disable
    public partial class CalendarScheduler : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.OpenComponent<Blazorise.Container>(1);
            __builder.AddAttribute(2, "Class", "containerBorder");
            __builder.AddAttribute(3, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.OpenComponent<Blazorise.Row>(4);
                __builder2.AddAttribute(5, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.OpenComponent<Blazorise.Column>(6);
                    __builder3.AddAttribute(7, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenComponent<Blazorise.Button>(8);
                        __builder4.AddAttribute(9, "Color", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Blazorise.Color>(
#nullable restore
#line 18 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                               Color.Primary

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(10, "Clicked", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, 
#nullable restore
#line 18 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                                        WeekBefore

#line default
#line hidden
#nullable disable
                        )));
                        __builder4.AddAttribute(11, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.AddContent(12, "<");
                        }
                        ));
                        __builder4.CloseComponent();
                        __builder4.AddMarkupContent(13, "\r\n                ");
                        __builder4.OpenComponent<Blazorise.Button>(14);
                        __builder4.AddAttribute(15, "Color", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Blazorise.Color>(
#nullable restore
#line 19 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                               Color.Primary

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(16, "Clicked", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, 
#nullable restore
#line 19 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                                        WeekAfter

#line default
#line hidden
#nullable disable
                        )));
                        __builder4.AddAttribute(17, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.AddContent(18, ">");
                        }
                        ));
                        __builder4.CloseComponent();
                    }
                    ));
                    __builder3.CloseComponent();
#nullable restore
#line 21 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
             foreach (var day in DaysOfTheWeek.Select((x, i) => new { Value = x, Index = i }))
            {

#line default
#line hidden
#nullable disable
                    __builder3.OpenComponent<Blazorise.Column>(19);
                    __builder3.AddAttribute(20, "Class", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 23 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                 FirstDay.AddDays(day.Index).Date == Today.Date ? "todayBolded" : ""

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(21, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
#nullable restore
#line 24 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
__builder4.AddContent(22, day.Value);

#line default
#line hidden
#nullable disable
                        __builder4.AddMarkupContent(23, "\r\n                    ");
#nullable restore
#line 25 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
__builder4.AddContent(24, FirstDay.AddDays(day.Index).ToString("dd.MM.yyyy"));

#line default
#line hidden
#nullable disable
                    }
                    ));
                    __builder3.CloseComponent();
#nullable restore
#line 27 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
            }

#line default
#line hidden
#nullable disable
                }
                ));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(25, "\r\n\r\n        ");
                __builder2.OpenElement(26, "div");
                __builder2.AddAttribute(27, "id", "scrollableCalendarDiv");
                __builder2.AddAttribute(28, "style", "overflow-y: auto; overflow-x: hidden; height: 450px;");
#nullable restore
#line 32 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
             foreach (var periodGroup in ThisWeeksPeriods)
            {

#line default
#line hidden
#nullable disable
                __builder2.OpenComponent<Blazorise.Row>(29);
                __builder2.AddAttribute(30, "Id", 
#nullable restore
#line 34 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                          periodGroup.Key.ToString(@"hh\:mm")

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(31, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.OpenComponent<Blazorise.Column>(32);
                    __builder3.AddAttribute(33, "Class", "borderedCol");
                    __builder3.AddAttribute(34, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenElement(35, "p");
#nullable restore
#line 36 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
__builder4.AddContent(36, periodGroup.Key.ToString(@"hh\:mm"));

#line default
#line hidden
#nullable disable
                        __builder4.CloseElement();
                    }
                    ));
                    __builder3.CloseComponent();
#nullable restore
#line 39 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                     for (int i = 0; i < 7; i++)
                    {
                        int indexBuffer = i;
                        var resPeriod = GetReservationPeriod(periodGroup, indexBuffer);

                        

#line default
#line hidden
#nullable disable
#nullable restore
#line 44 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                         if (resPeriod != null)
                        {

#line default
#line hidden
#nullable disable
                    __builder3.OpenComponent<Blazorise.Column>(37);
                    __builder3.AddAttribute(38, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 46 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                              () => OpenPopupForAdministration(resPeriod)

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(39, "Class", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 46 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                                                                                    resPeriod.ReservationMade ? "reserved borderedCol" : "available borderedCol"

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(40, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddMarkupContent(41, "<p></p>");
                    }
                    ));
                    __builder3.CloseComponent();
#nullable restore
#line 49 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                        }
                        else
                        {
                            

#line default
#line hidden
#nullable disable
#nullable restore
#line 52 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                             if (IsOwner)
                            {

#line default
#line hidden
#nullable disable
                    __builder3.OpenComponent<Blazorise.Column>(42);
                    __builder3.AddAttribute(43, "Class", "cellDisabled borderedCol");
                    __builder3.AddAttribute(44, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 54 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                                                                   () => OpenPopupForNewPeriod(periodGroup.Key, indexBuffer)

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
#nullable restore
#line 56 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                            }
                            else
                            {

#line default
#line hidden
#nullable disable
                    __builder3.OpenComponent<Blazorise.Column>(45);
                    __builder3.AddAttribute(46, "Class", "cellDisabled borderedCol");
                    __builder3.CloseComponent();
#nullable restore
#line 61 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 61 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                             
                        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 62 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                         
                    }

#line default
#line hidden
#nullable disable
                }
                ));
                __builder2.CloseComponent();
#nullable restore
#line 65 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
            }

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
            }
            ));
            __builder.CloseComponent();
            __builder.CloseElement();
            __builder.AddMarkupContent(47, "\r\n\r\n");
            __builder.OpenComponent<Blazorise.Modal>(48);
            __builder.AddAttribute(49, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
#nullable restore
#line 72 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
     if (ModalEditPeriod != null)
    {
        

#line default
#line hidden
#nullable disable
#nullable restore
#line 74 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
         if (IsOwner)
        {

#line default
#line hidden
#nullable disable
                __builder2.OpenComponent<Blazorise.ModalContent>(50);
                __builder2.AddAttribute(51, "Centered", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 76 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                    true

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(52, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.OpenComponent<Blazorise.ModalHeader>(53);
                    __builder3.AddAttribute(54, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenComponent<Blazorise.ModalTitle>(55);
                        __builder4.AddAttribute(56, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.AddMarkupContent(57, "Uređivanje termina");
                        }
                        ));
                        __builder4.CloseComponent();
                        __builder4.AddMarkupContent(58, "\r\n                    ");
                        __builder4.OpenComponent<Blazorise.CloseButton>(59);
                        __builder4.CloseComponent();
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(60, "\r\n\r\n                ");
                    __builder3.OpenComponent<Blazorise.ModalBody>(61);
                    __builder3.AddAttribute(62, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenComponent<Blazorise.Field>(63);
                        __builder4.AddAttribute(64, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.OpenComponent<Blazorise.FieldLabel>(65);
                            __builder5.AddAttribute(66, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder6) => {
#nullable restore
#line 85 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
__builder6.AddContent(67, ModalEditPeriod.From.Date.ToString("dd.MM.yyyy"));

#line default
#line hidden
#nullable disable
                            }
                            ));
                            __builder5.CloseComponent();
                            __builder5.AddMarkupContent(68, "\r\n                        ");
                            __builder5.OpenComponent<Blazorise.FieldLabel>(69);
                            __builder5.AddAttribute(70, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder6) => {
                                __builder6.AddContent(71, "Od ");
#nullable restore
#line 86 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
__builder6.AddContent(72, ModalEditPeriod.From.ToString(@"HH\:mm"));

#line default
#line hidden
#nullable disable
                                __builder6.AddContent(73, " - Do ");
#nullable restore
#line 86 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
__builder6.AddContent(74, ModalEditPeriod.To.ToString(@"HH\:mm"));

#line default
#line hidden
#nullable disable
                            }
                            ));
                            __builder5.CloseComponent();
                        }
                        ));
                        __builder4.CloseComponent();
#nullable restore
#line 89 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                     if (ModalEditPeriod.ReservationMade == false)
                    {

#line default
#line hidden
#nullable disable
                        __builder4.OpenComponent<Blazorise.Field>(75);
                        __builder4.AddAttribute(76, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.OpenComponent<Blazorise.FieldLabel>(77);
                            __builder5.AddAttribute(78, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder6) => {
                                __builder6.AddContent(79, "Tip termina");
                            }
                            ));
                            __builder5.CloseComponent();
                            __builder5.AddMarkupContent(80, "\r\n                            ");
                            __builder5.OpenComponent<Blazorise.Select<int>>(81);
                            __builder5.AddAttribute(82, "SelectedValue", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<int>(
#nullable restore
#line 93 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                                                  (int)ModalEditPeriod.ReservationPeriodType

#line default
#line hidden
#nullable disable
                            ));
                            __builder5.AddAttribute(83, "SelectedValueChanged", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<int>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<int>(this, 
#nullable restore
#line 93 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                                                                                                                      OnSelectedValueChangedReservationPeriodType

#line default
#line hidden
#nullable disable
                            )));
                            __builder5.AddAttribute(84, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder6) => {
                                __Blazor.ZavrsniRad.RezervacijeTermina.Pages.Shared.Components.CalendarScheduler.TypeInference.CreateSelectItem_0(__builder6, 85, 86, 
#nullable restore
#line 94 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                                     (int)ReservationPeriodType.Closed

#line default
#line hidden
#nullable disable
                                , 87, (__builder7) => {
                                    __builder7.AddContent(88, "Zatvoreno");
                                }
                                );
                                __builder6.AddMarkupContent(89, "\r\n                                ");
                                __Blazor.ZavrsniRad.RezervacijeTermina.Pages.Shared.Components.CalendarScheduler.TypeInference.CreateSelectItem_1(__builder6, 90, 91, 
#nullable restore
#line 95 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                                     (int)ReservationPeriodType.Reserved

#line default
#line hidden
#nullable disable
                                , 92, (__builder7) => {
                                    __builder7.AddContent(93, "Rezerviran termin (Bez informacije kojem korisniku)");
                                }
                                );
                                __builder6.AddMarkupContent(94, "\r\n                                ");
                                __Blazor.ZavrsniRad.RezervacijeTermina.Pages.Shared.Components.CalendarScheduler.TypeInference.CreateSelectItem_2(__builder6, 95, 96, 
#nullable restore
#line 96 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                                     (int)ReservationPeriodType.Free

#line default
#line hidden
#nullable disable
                                , 97, (__builder7) => {
                                    __builder7.AddContent(98, "Slobodan termin");
                                }
                                );
                            }
                            ));
                            __builder5.CloseComponent();
                        }
                        ));
                        __builder4.CloseComponent();
#nullable restore
#line 99 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                    }
                    else
                    {

#line default
#line hidden
#nullable disable
                        __builder4.OpenComponent<Blazorise.Field>(99);
                        __builder4.AddAttribute(100, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.OpenComponent<Blazorise.FieldLabel>(101);
                            __builder5.AddAttribute(102, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder6) => {
                                __builder6.AddContent(103, "Termin rezerviran od strane korisnika ");
#nullable restore
#line 103 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
__builder6.AddContent(104, ModalEditPeriod.User.UserName);

#line default
#line hidden
#nullable disable
                                __builder6.AddContent(105, " dana ");
#nullable restore
#line 103 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
__builder6.AddContent(106, ModalEditPeriod.ReservationMadeAt.Value.ToString("dd.MM.yyyy HH:mm"));

#line default
#line hidden
#nullable disable
                            }
                            ));
                            __builder5.CloseComponent();
                        }
                        ));
                        __builder4.CloseComponent();
#nullable restore
#line 105 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"

                        if (ModalEditPeriod.IsConfirmed == false)
                        {

#line default
#line hidden
#nullable disable
                        __builder4.OpenComponent<Blazorise.Field>(107);
                        __builder4.AddAttribute(108, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.AddMarkupContent(109, "\r\n                                Potrebno je potvrditi ili odbiti rezervaciju.\r\n\r\n                                ");
                            __builder5.OpenComponent<Blazorise.Switch<bool>>(110);
                            __builder5.AddAttribute(111, "Checked", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<bool>(
#nullable restore
#line 111 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                                                ModalEditPeriod.IsConfirmed

#line default
#line hidden
#nullable disable
                            ));
                            __builder5.AddAttribute(112, "CheckedChanged", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<bool>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<bool>(this, 
#nullable restore
#line 111 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                                                                                              OnIsConfirmedChanged

#line default
#line hidden
#nullable disable
                            )));
                            __builder5.AddAttribute(113, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder6) => {
                                __builder6.AddMarkupContent(114, "Rezervacija potvrđena");
                            }
                            ));
                            __builder5.CloseComponent();
                        }
                        ));
                        __builder4.CloseComponent();
#nullable restore
#line 113 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                        }
                        else
                        {

#line default
#line hidden
#nullable disable
                        __builder4.OpenComponent<Blazorise.Field>(115);
                        __builder4.AddAttribute(116, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.AddMarkupContent(117, "Rezervacija već potvrđena");
                        }
                        ));
                        __builder4.CloseComponent();
#nullable restore
#line 117 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                        }
                    }

#line default
#line hidden
#nullable disable
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(118, "\r\n                ");
                    __builder3.OpenComponent<Blazorise.ModalFooter>(119);
                    __builder3.AddAttribute(120, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenComponent<Blazorise.Button>(121);
                        __builder4.AddAttribute(122, "Color", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Blazorise.Color>(
#nullable restore
#line 121 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                   Color.Secondary

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(123, "Clicked", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, 
#nullable restore
#line 121 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                                              HideEditModal

#line default
#line hidden
#nullable disable
                        )));
                        __builder4.AddAttribute(124, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.AddContent(125, "Zatvori");
                        }
                        ));
                        __builder4.CloseComponent();
#nullable restore
#line 122 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                     if (ModalEditPeriod.ReservationMade == false)
                    {

#line default
#line hidden
#nullable disable
                        __builder4.OpenComponent<Blazorise.Button>(126);
                        __builder4.AddAttribute(127, "Color", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Blazorise.Color>(
#nullable restore
#line 124 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                       Color.Primary

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(128, "Clicked", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, 
#nullable restore
#line 124 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                                                UpdateReservation

#line default
#line hidden
#nullable disable
                        )));
                        __builder4.AddAttribute(129, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.AddContent(130, "Spremi promjene");
                        }
                        ));
                        __builder4.CloseComponent();
#nullable restore
#line 125 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                    }
                    else if (ModalEditPeriod.ReservationMade && ModalEditPeriod.IsConfirmed == false)
                    {

#line default
#line hidden
#nullable disable
                        __builder4.OpenComponent<Blazorise.Button>(131);
                        __builder4.AddAttribute(132, "Color", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Blazorise.Color>(
#nullable restore
#line 128 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                       Color.Primary

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(133, "Clicked", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, 
#nullable restore
#line 128 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                                                ConfirmReservation

#line default
#line hidden
#nullable disable
                        )));
                        __builder4.AddAttribute(134, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.AddContent(135, "Potvrdi/odbij rezervaciju");
                        }
                        ));
                        __builder4.CloseComponent();
#nullable restore
#line 129 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"

                    }

#line default
#line hidden
#nullable disable
                    }
                    ));
                    __builder3.CloseComponent();
                }
                ));
                __builder2.CloseComponent();
#nullable restore
#line 133 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
        }
        else
        {

#line default
#line hidden
#nullable disable
                __builder2.OpenComponent<Blazorise.ModalContent>(136);
                __builder2.AddAttribute(137, "Centered", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 136 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                    true

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(138, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.OpenComponent<Blazorise.ModalHeader>(139);
                    __builder3.AddAttribute(140, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenComponent<Blazorise.ModalTitle>(141);
                        __builder4.AddAttribute(142, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.AddMarkupContent(143, "Uređivanje termina");
                        }
                        ));
                        __builder4.CloseComponent();
                        __builder4.AddMarkupContent(144, "\r\n                    ");
                        __builder4.OpenComponent<Blazorise.CloseButton>(145);
                        __builder4.CloseComponent();
                    }
                    ));
                    __builder3.CloseComponent();
#nullable restore
#line 141 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                 if (ModalEditPeriod != null)
                {

#line default
#line hidden
#nullable disable
                    __builder3.OpenComponent<Blazorise.ModalBody>(146);
                    __builder3.AddAttribute(147, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenComponent<Blazorise.Field>(148);
                        __builder4.AddAttribute(149, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.OpenComponent<Blazorise.FieldLabel>(150);
                            __builder5.AddAttribute(151, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder6) => {
#nullable restore
#line 146 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
__builder6.AddContent(152, ModalEditPeriod.From.Date.ToString("dd.MM.yyyy"));

#line default
#line hidden
#nullable disable
                            }
                            ));
                            __builder5.CloseComponent();
                            __builder5.AddMarkupContent(153, "\r\n                            ");
                            __builder5.OpenComponent<Blazorise.FieldLabel>(154);
                            __builder5.AddAttribute(155, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder6) => {
                                __builder6.AddContent(156, "Od ");
#nullable restore
#line 147 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
__builder6.AddContent(157, ModalEditPeriod.From.ToString(@"HH\:mm"));

#line default
#line hidden
#nullable disable
                                __builder6.AddContent(158, " - Do ");
#nullable restore
#line 147 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
__builder6.AddContent(159, ModalEditPeriod.To.ToString(@"HH\:mm"));

#line default
#line hidden
#nullable disable
                            }
                            ));
                            __builder5.CloseComponent();
                        }
                        ));
                        __builder4.CloseComponent();
#nullable restore
#line 150 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                         if (ModalEditPeriod.ReservationMade && ModalEditPeriod.IsConfirmed)
                        {
                            

#line default
#line hidden
#nullable disable
#nullable restore
#line 152 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                             if (ModalEditPeriod?.User != null)
                            {

#line default
#line hidden
#nullable disable
                        __builder4.OpenComponent<Blazorise.Field>(160);
                        __builder4.AddAttribute(161, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.OpenComponent<Blazorise.FieldLabel>(162);
                            __builder5.AddAttribute(163, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder6) => {
                                __builder6.AddContent(164, "Termin rezerviran od strane korisnika ");
#nullable restore
#line 155 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
__builder6.AddContent(165, ModalEditPeriod.User.UserName);

#line default
#line hidden
#nullable disable
                            }
                            ));
                            __builder5.CloseComponent();
                            __builder5.AddMarkupContent(166, "\r\n                                    ");
                            __builder5.OpenComponent<Blazorise.FieldLabel>(167);
                            __builder5.AddAttribute(168, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder6) => {
                                __builder6.AddMarkupContent(169, "Termin potvrđen!");
                            }
                            ));
                            __builder5.CloseComponent();
                        }
                        ));
                        __builder4.CloseComponent();
#nullable restore
#line 158 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 158 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                             
                        }
                        else if (ModalEditPeriod.ReservationMade && ModalEditPeriod.IsConfirmed == false)
                        {

#line default
#line hidden
#nullable disable
                        __builder4.OpenComponent<Blazorise.FieldLabel>(170);
                        __builder4.AddAttribute(171, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.AddContent(172, "Termin rezerviran od strane korisnika ");
#nullable restore
#line 162 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
__builder5.AddContent(173, ModalEditPeriod.User.UserName);

#line default
#line hidden
#nullable disable
                        }
                        ));
                        __builder4.CloseComponent();
                        __builder4.AddMarkupContent(174, "\r\n                            ");
                        __builder4.OpenComponent<Blazorise.FieldLabel>(175);
                        __builder4.AddAttribute(176, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.AddMarkupContent(177, "Vlasnik još nije potvrdio/otkazao rezervaciju.");
                        }
                        ));
                        __builder4.CloseComponent();
#nullable restore
#line 164 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"

                        }
                        else
                        {

#line default
#line hidden
#nullable disable
                        __builder4.OpenComponent<Blazorise.Field>(178);
                        __builder4.AddAttribute(179, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.AddMarkupContent(180, "\r\n                                Želite li rezervirati odabrani termin?\r\n                            ");
                        }
                        ));
                        __builder4.CloseComponent();
                        __builder4.OpenComponent<Blazorise.Field>(181);
                        __builder4.AddAttribute(182, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
#nullable restore
#line 173 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                 if (ReservationEvent.IsReservationConfirmationNeeded)
                                {

#line default
#line hidden
#nullable disable
                            __builder5.OpenComponent<Blazorise.Field>(183);
                            __builder5.AddAttribute(184, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder6) => {
                                __builder6.AddMarkupContent(185, "Termin je valjan tek nakon što ga vlasnik potvrdi. Provjerite stranicu i email nešto kasnije.");
                            }
                            ));
                            __builder5.CloseComponent();
#nullable restore
#line 176 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                }
                                else
                                {

#line default
#line hidden
#nullable disable
                            __builder5.OpenComponent<Blazorise.Field>(186);
                            __builder5.AddAttribute(187, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder6) => {
                                __builder6.AddContent(188, "Termin se smatra valjanim od strane vlasnika u trenutka kada ga potvrdite!");
                            }
                            ));
                            __builder5.CloseComponent();
#nullable restore
#line 180 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                }

#line default
#line hidden
#nullable disable
                        }
                        ));
                        __builder4.CloseComponent();
#nullable restore
#line 182 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                        }

#line default
#line hidden
#nullable disable
                    }
                    ));
                    __builder3.CloseComponent();
#nullable restore
#line 184 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                }

#line default
#line hidden
#nullable disable
                    __builder3.OpenComponent<Blazorise.ModalFooter>(189);
                    __builder3.AddAttribute(190, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenComponent<Blazorise.Button>(191);
                        __builder4.AddAttribute(192, "Color", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Blazorise.Color>(
#nullable restore
#line 186 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                   Color.Secondary

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(193, "Clicked", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, 
#nullable restore
#line 186 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                                              HideEditModal

#line default
#line hidden
#nullable disable
                        )));
                        __builder4.AddAttribute(194, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.AddContent(195, "Zatvori");
                        }
                        ));
                        __builder4.CloseComponent();
#nullable restore
#line 187 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                     if (ModalEditPeriod.ReservationMade == false && ModalEditPeriod.IsConfirmed == false)
                    {

#line default
#line hidden
#nullable disable
                        __builder4.OpenComponent<Blazorise.Button>(196);
                        __builder4.AddAttribute(197, "Color", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Blazorise.Color>(
#nullable restore
#line 189 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                       Color.Primary

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(198, "Clicked", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, 
#nullable restore
#line 189 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                                                UserMadeReservation

#line default
#line hidden
#nullable disable
                        )));
                        __builder4.AddAttribute(199, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.AddContent(200, "Potvrdi termin");
                        }
                        ));
                        __builder4.CloseComponent();
#nullable restore
#line 190 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                    }

#line default
#line hidden
#nullable disable
                    }
                    ));
                    __builder3.CloseComponent();
                }
                ));
                __builder2.CloseComponent();
#nullable restore
#line 193 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 193 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
         

    }

#line default
#line hidden
#nullable disable
            }
            ));
            __builder.AddComponentReferenceCapture(201, (__value) => {
#nullable restore
#line 70 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
             editModalRef = (Blazorise.Modal)__value;

#line default
#line hidden
#nullable disable
            }
            );
            __builder.CloseComponent();
            __builder.AddMarkupContent(202, "\r\n\r\n");
            __builder.OpenComponent<Blazorise.Modal>(203);
            __builder.AddAttribute(204, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.OpenComponent<Blazorise.ModalContent>(205);
                __builder2.AddAttribute(206, "Centered", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 199 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                            true

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(207, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.OpenComponent<Blazorise.ModalHeader>(208);
                    __builder3.AddAttribute(209, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenComponent<Blazorise.ModalTitle>(210);
                        __builder4.AddAttribute(211, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.AddContent(212, "Novi termin");
                        }
                        ));
                        __builder4.CloseComponent();
                        __builder4.AddMarkupContent(213, "\r\n            ");
                        __builder4.OpenComponent<Blazorise.CloseButton>(214);
                        __builder4.CloseComponent();
                    }
                    ));
                    __builder3.CloseComponent();
#nullable restore
#line 204 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
         if (ModalCreatePeriod != null)
        {

#line default
#line hidden
#nullable disable
                    __builder3.OpenComponent<Blazorise.ModalBody>(215);
                    __builder3.AddAttribute(216, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenComponent<Blazorise.Field>(217);
                        __builder4.AddAttribute(218, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.OpenComponent<Blazorise.FieldLabel>(219);
                            __builder5.AddAttribute(220, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder6) => {
#nullable restore
#line 208 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
__builder6.AddContent(221, ModalCreatePeriod.From.Date.ToString("dd.MM.yyyy"));

#line default
#line hidden
#nullable disable
                            }
                            ));
                            __builder5.CloseComponent();
                            __builder5.AddMarkupContent(222, "\r\n                    ");
                            __builder5.OpenComponent<Blazorise.FieldLabel>(223);
                            __builder5.AddAttribute(224, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder6) => {
                                __builder6.AddContent(225, "Od ");
#nullable restore
#line 209 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
__builder6.AddContent(226, ModalCreatePeriod.From.ToString(@"HH\:mm"));

#line default
#line hidden
#nullable disable
                                __builder6.AddContent(227, " - Do ");
#nullable restore
#line 209 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
__builder6.AddContent(228, ModalCreatePeriod.To.ToString(@"HH\:mm"));

#line default
#line hidden
#nullable disable
                            }
                            ));
                            __builder5.CloseComponent();
                        }
                        ));
                        __builder4.CloseComponent();
                        __builder4.AddMarkupContent(229, "\r\n\r\n                ");
                        __builder4.OpenComponent<Blazorise.Field>(230);
                        __builder4.AddAttribute(231, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.OpenComponent<Blazorise.FieldLabel>(232);
                            __builder5.AddAttribute(233, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder6) => {
                                __builder6.AddContent(234, "Tip termina");
                            }
                            ));
                            __builder5.CloseComponent();
                            __builder5.AddMarkupContent(235, "\r\n                    ");
                            __builder5.OpenComponent<Blazorise.Select<int>>(236);
                            __builder5.AddAttribute(237, "SelectedValue", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<int>(
#nullable restore
#line 214 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                                          (int)ModalCreatePeriod.ReservationPeriodType

#line default
#line hidden
#nullable disable
                            ));
                            __builder5.AddAttribute(238, "SelectedValueChanged", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<int>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<int>(this, 
#nullable restore
#line 214 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                                                                                                                OnSelectedValueChangedReservationPeriodTypeForCreate

#line default
#line hidden
#nullable disable
                            )));
                            __builder5.AddAttribute(239, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder6) => {
                                __Blazor.ZavrsniRad.RezervacijeTermina.Pages.Shared.Components.CalendarScheduler.TypeInference.CreateSelectItem_3(__builder6, 240, 241, 
#nullable restore
#line 215 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                             (int)ReservationPeriodType.Free

#line default
#line hidden
#nullable disable
                                , 242, (__builder7) => {
                                    __builder7.AddContent(243, "Slobodan termin");
                                }
                                );
                                __builder6.AddMarkupContent(244, "\r\n                        ");
                                __Blazor.ZavrsniRad.RezervacijeTermina.Pages.Shared.Components.CalendarScheduler.TypeInference.CreateSelectItem_4(__builder6, 245, 246, 
#nullable restore
#line 217 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                             (int)ReservationPeriodType.Reserved

#line default
#line hidden
#nullable disable
                                , 247, (__builder7) => {
                                    __builder7.AddContent(248, "Rezerviran termin (Bez informacije kojem korisniku)");
                                }
                                );
                            }
                            ));
                            __builder5.CloseComponent();
                        }
                        ));
                        __builder4.CloseComponent();
                    }
                    ));
                    __builder3.CloseComponent();
#nullable restore
#line 221 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
        }

#line default
#line hidden
#nullable disable
                    __builder3.OpenComponent<Blazorise.ModalFooter>(249);
                    __builder3.AddAttribute(250, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenComponent<Blazorise.Button>(251);
                        __builder4.AddAttribute(252, "Color", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Blazorise.Color>(
#nullable restore
#line 223 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                           Color.Secondary

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(253, "Clicked", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, 
#nullable restore
#line 223 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                                      HideCreateModal

#line default
#line hidden
#nullable disable
                        )));
                        __builder4.AddAttribute(254, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.AddContent(255, "Zatvori");
                        }
                        ));
                        __builder4.CloseComponent();
                        __builder4.AddMarkupContent(256, "\r\n            ");
                        __builder4.OpenComponent<Blazorise.Button>(257);
                        __builder4.AddAttribute(258, "Color", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Blazorise.Color>(
#nullable restore
#line 224 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                           Color.Primary

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(259, "Clicked", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, 
#nullable restore
#line 224 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                                    CreateReservation

#line default
#line hidden
#nullable disable
                        )));
                        __builder4.AddAttribute(260, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.AddContent(261, "Kreiraj novi termin");
                        }
                        ));
                        __builder4.CloseComponent();
                    }
                    ));
                    __builder3.CloseComponent();
                }
                ));
                __builder2.CloseComponent();
            }
            ));
            __builder.AddComponentReferenceCapture(262, (__value) => {
#nullable restore
#line 198 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
             createModalRef = (Blazorise.Modal)__value;

#line default
#line hidden
#nullable disable
            }
            );
            __builder.CloseComponent();
#nullable restore
#line 229 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
 if (ShowErrorPopup)
{

#line default
#line hidden
#nullable disable
            __builder.OpenElement(263, "div");
            __builder.AddAttribute(264, "class", "modal fade show d-block");
            __builder.AddAttribute(265, "id", "exampleModal");
            __builder.AddAttribute(266, "tabindex", "-1");
            __builder.AddAttribute(267, "role", "dialog");
            __builder.OpenElement(268, "div");
            __builder.AddAttribute(269, "class", "modal-dialog");
            __builder.AddAttribute(270, "role", "document");
            __builder.OpenElement(271, "div");
            __builder.AddAttribute(272, "class", "modal-content");
            __builder.OpenElement(273, "div");
            __builder.AddAttribute(274, "class", "modal-header");
            __builder.AddMarkupContent(275, "<h5 class=\"modal-title\" id=\"titleLabel\">Response</h5>\r\n                    ");
            __builder.OpenElement(276, "button");
            __builder.AddAttribute(277, "type", "button");
            __builder.AddAttribute(278, "class", "close");
            __builder.AddAttribute(279, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 236 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                                                   ClosePopup

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(280, "data-dismiss", "modal");
            __builder.AddAttribute(281, "aria-label", "Close");
            __builder.AddMarkupContent(282, "<span aria-hidden=\"true\">×</span>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(283, "\r\n                ");
            __builder.OpenElement(284, "div");
            __builder.AddAttribute(285, "class", "modal-body");
#nullable restore
#line 241 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
__builder.AddContent(286, ErrorMessage);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(287, "\r\n                ");
            __builder.OpenElement(288, "div");
            __builder.AddAttribute(289, "class", "modal-footer");
            __builder.OpenElement(290, "button");
            __builder.AddAttribute(291, "type", "button");
            __builder.AddAttribute(292, "class", "btn btn-secondary");
            __builder.AddAttribute(293, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 244 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
                                                                               ClosePopup

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(294, "data-dismiss", "modal");
            __builder.AddContent(295, "Close");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 249 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"

}

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(296, @"<style>
    .todayBolded {
        /*ADD BORDERS TO TODAY*/
        font-weight: bold
    }

    .maxHeight {
        height: 499px;
        max-height: 500px;
    }

    .cellDisabled {
        background-color: lightgrey;
    }

    .reserved {
        background-color: lightcoral;
    }

    .available {
        background-color: lightgreen;
    }

    .borderedCol {
        border-top: 1px solid grey;
        border-right: 1px solid grey;
    }

        .borderedCol:nth-child(1) {
            border-left: 1px solid grey;
        }

    .containerBorder {
        padding: 5px;
        border: 1px solid grey;
    }
</style>");
        }
        #pragma warning restore 1998
#nullable restore
#line 290 "C:\Users\Marko\source\repos\ZavrsniRad.RezervacijeTermina\ZavrsniRad.RezervacijeTermina\Pages\Shared\Components\CalendarScheduler.razor"
       
    [Parameter]
    public ReservationEvent ReservationEvent { get; set; }
    [Parameter]
    public string UserId { get; set; }
    [Parameter]
    public string UserName { get; set; }
    [Parameter]
    public bool IsOwner { get; set; }

    public bool IsLoading { get; set; }

    private IEnumerable<IGrouping<TimeSpan, ReservationPeriod>> ThisWeeksPeriods { get; set; }

    private Modal editModalRef;
    private ReservationPeriod ModalEditPeriod;

    private Modal createModalRef;
    private ReservationPeriod ModalCreatePeriod;

    private bool ShowErrorPopup;
    private string ErrorMessage;

    private DateTime FirstDay;
    private DateTime Today;
    private List<string> DaysOfTheWeek;
    private List<string> HoursOfTheDay;
    private int numberOfHoursInADay = 24;

    public string FirstCalendarCellLocation { get; set; }

    protected override async Task OnInitializedAsync()
    {
        if (ReservationEvent != null)
        {
            Today = DateTime.Now;
            FirstDay = GetModayAccordingTo(Today);
            DaysOfTheWeek = InitializeDaysOfTheWeek();
            HoursOfTheDay = InitializeHoursOfTheDay();
            ThisWeeksPeriods = GroupThisWeekPeriodsByHour();
            FirstCalendarCellLocation = ThisWeeksPeriods.Where(x => x.Any()).Min(x => x.Key).ToString(@"hh\:mm");
        }
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
            await JS.InvokeVoidAsync("blazorHelpers.scrollToFragment", FirstCalendarCellLocation);
    }

    #region Initializing data

    private List<string> InitializeDaysOfTheWeek()
    {
        return new List<string>{
            "Ponedjeljak",
            "Utorak",
            "Srijeda",
            "Četvrtak",
            "Petak",
            "Subota",
            "Nedjelja"
          };
    }

    private List<string> InitializeHoursOfTheDay()
    {
        var hours = new List<string>();

        var day = DateTime.Now.Date;

        while (day.Date == DateTime.Now.Date)
        {
            hours.Add(day.ToString("HH:mm"));
            day = day.AddHours(1);
        }

        return hours;
    }
    IEnumerable<IGrouping<TimeSpan, ReservationPeriod>> GroupThisWeekPeriodsByHour()
    {
        var allPeriods = ReservationEvent.ReservationPeriods;

        var groupedPeriods = allPeriods
            .Where(x =>
                x.From.Date >= FirstDay.Date
                && x.From.Date < FirstDay.AddDays(7).Date
                )
            .OrderBy(x => x.From)
            .GroupBy(x => x.From.TimeOfDay)
            .ToList();

        return FillMissingTimeStamps(groupedPeriods);

    }

    IEnumerable<Grouping<TimeSpan, ReservationPeriod>> FillMissingTimeStamps(IEnumerable<IGrouping<TimeSpan, ReservationPeriod>> groupedPeriods)
    {
        var result = new List<Grouping<TimeSpan, ReservationPeriod>>();
        //used only for generating a nice time table;

        var startingTime = DateTime.Now.Date;
        var endTime = DateTime.Now.Date.AddDays(1);
        var stepInMinutes = ReservationEvent.ReservationDurationType == ReservationDurationType.HalfHour ? 30 : 60;

        while (startingTime.Date != endTime.Date)
        {
            var groupFound = groupedPeriods.SingleOrDefault(x => x.Key == startingTime.TimeOfDay);

            if (groupFound == null)
            {
                result.Add(new Grouping<TimeSpan, ReservationPeriod>(startingTime.TimeOfDay, new List<ReservationPeriod>()));
            }
            else
            {
                result.Add(new Grouping<TimeSpan, ReservationPeriod>(groupFound.Key, groupFound));

            }

            startingTime = startingTime.AddMinutes(stepInMinutes);
        }

        return result;
    }

    public class Grouping<TKey, TElement> : List<TElement>, IGrouping<TKey, TElement>
    {
        public Grouping(TKey key) : base() => Key = key;
        public Grouping(TKey key, int capacity) : base(capacity) => Key = key;
        public Grouping(TKey key, IEnumerable<TElement> collection)
            : base(collection) => Key = key;
        public TKey Key { get; }
    }

    private DateTime GetModayAccordingTo(DateTime now)
    {
        int delta = DayOfWeek.Monday - now.DayOfWeek;
        if (delta > 0)
            delta -= 7;
        DateTime monday = now.AddDays(delta);

        return monday;
    }

    #endregion

    #region Calendar Utility

    private void WeekBefore()
    {
        FirstDay = GetModayAccordingTo(FirstDay.AddDays(-7));
        ThisWeeksPeriods = GroupThisWeekPeriodsByHour();
        FirstCalendarCellLocation = ThisWeeksPeriods.Where(x => x.Any()).Min(x => x.Key).ToString(@"hh\:mm");

    }

    private void WeekAfter()
    {
        FirstDay = GetModayAccordingTo(FirstDay.AddDays(7));
        ThisWeeksPeriods = GroupThisWeekPeriodsByHour();
        FirstCalendarCellLocation = ThisWeeksPeriods.Where(x => x.Any()).Min(x => x.Key).ToString(@"hh\:mm");
    }

    private ReservationPeriod GetReservationPeriod(IEnumerable<ReservationPeriod> input, int index)
    {
        return input.ToList().FirstOrDefault(x => GetDaysIndex(x.From) == index);
    }

    private int GetDaysIndex(DateTime day)
    {
        var index = (int)day.DayOfWeek - 1;

        return index < 0 ? 7 : index;
    }

    #endregion

    #region Edit Modal

    private void OpenPopupForAdministration(ReservationPeriod reservationPeriod)
    {
        ModalEditPeriod = reservationPeriod;

        ShowEditModal();
    }

    private void ShowEditModal()
    {
        editModalRef.Show();
    }

    private void HideEditModal()
    {
        editModalRef.Hide();
    }

    void OnSelectedValueChangedReservationPeriodType(int value)
    {
        ModalEditPeriod.SetReservationPeriodType((ReservationPeriodType)value);
    }

    void OnIsConfirmedChanged(bool value)
    {
        ModalEditPeriod.SetIsConfirmed(value);
    }

    async Task UpdateReservation()
    {
        var response = await ReservationPeriodService.UpdateReservationPeriodsAsync
            (
                new UpdateReservationPeriodRequest
                {
                    ReservationPeriod = ModalEditPeriod,
                    UserId = IsOwner ? null : UserId
                }
            );

        if (response.Success)
        {
            HideEditModal();
        }
        else
        {
            ShowPopupWithErrorMessage(response.ErrorMessage);
        }

    }

    async Task ConfirmReservation()
    {
        if (ModalEditPeriod.IsConfirmed == false)
        {
            //cancle reservation
            ModalEditPeriod.ResetUser();
            ModalEditPeriod.SetReservationPeriodType(ReservationPeriodType.Free);
        }

        ModalEditPeriod.SetReservationPeriodType(ReservationPeriodType.Reserved);

        var response = await ReservationPeriodService.UpdateReservationPeriodsAsync
        (
            new UpdateReservationPeriodRequest
            {
                ReservationPeriod = ModalEditPeriod,
                UserId = IsOwner ? null : UserId
            }
        );

        if (response.Success)
        {
            HideEditModal();
        }
        else
        {
            ShowPopupWithErrorMessage(response.ErrorMessage);
        }

    }

    async Task UserMadeReservation()
    {
        ModalEditPeriod.SetIsConfirmed(ReservationEvent.IsReservationConfirmationNeeded ? false : true);
        ModalEditPeriod.SetReservationMade(true);

        var response = await ReservationPeriodService.UpdateReservationPeriodsAsync
        (
            new UpdateReservationPeriodRequest
            {
                ReservationPeriod = ModalEditPeriod,
                UserId = UserId
            }
        );

        if (response.Success)
        {
            HideEditModal();
        }
        else
        {
            ShowPopupWithErrorMessage(response.ErrorMessage);
        }

    }

    #endregion

    #region Create Modal

    void OpenPopupForNewPeriod(TimeSpan time, int dayOfWeek)
    {
        var date = FirstDay.AddDays(dayOfWeek);
        var dateTime = new DateTime(date.Year, date.Month, date.Day, time.Hours, time.Minutes, time.Seconds);
        var stepInMinutes = ReservationEvent.ReservationDurationType == ReservationDurationType.HalfHour ? 30 : 60;

        ModalCreatePeriod = new ReservationPeriod
            (
            dateTime,
            dateTime.AddMinutes(stepInMinutes),
            ReservationPeriodType.Closed,
            null,
            ReservationEvent.Id
            );

        ShowCreateModal();
    }

    private void ShowCreateModal()
    {
        createModalRef.Show();
    }

    private void HideCreateModal()
    {
        createModalRef.Hide();
    }

    async Task CreateReservation()
    {
        var response = await ReservationPeriodService.CreateReservationPeriodsAsync
            (
                new CreateReservationPeriodRequest
                {
                    ReservationPeriod = ModalCreatePeriod,
                    UserId = IsOwner ? null : UserId
                }
            );

        if (response.Success)
        {
            HideCreateModal();
        }
        else
        {
            ShowPopupWithErrorMessage(response.ErrorMessage);
        }

    }

    void OnSelectedValueChangedReservationPeriodTypeForCreate(int value)
    {
        ModalCreatePeriod.SetReservationPeriodType((ReservationPeriodType)value);
    }

    #endregion

    #region Error Popup

    void ShowPopupWithErrorMessage(string message)
    {
        ErrorMessage = message;
        ShowErrorPopup = true;
    }

    void ClosePopup()
    {
        ShowErrorPopup = false;
    }

    #endregion


#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JS { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IReservationPeriodService ReservationPeriodService { get; set; }
    }
}
namespace __Blazor.ZavrsniRad.RezervacijeTermina.Pages.Shared.Components.CalendarScheduler
{
    #line hidden
    internal static class TypeInference
    {
        public static void CreateSelectItem_0<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, TValue __arg0, int __seq1, global::Microsoft.AspNetCore.Components.RenderFragment __arg1)
        {
        __builder.OpenComponent<global::Blazorise.SelectItem<TValue>>(seq);
        __builder.AddAttribute(__seq0, "Value", __arg0);
        __builder.AddAttribute(__seq1, "ChildContent", __arg1);
        __builder.CloseComponent();
        }
        public static void CreateSelectItem_1<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, TValue __arg0, int __seq1, global::Microsoft.AspNetCore.Components.RenderFragment __arg1)
        {
        __builder.OpenComponent<global::Blazorise.SelectItem<TValue>>(seq);
        __builder.AddAttribute(__seq0, "Value", __arg0);
        __builder.AddAttribute(__seq1, "ChildContent", __arg1);
        __builder.CloseComponent();
        }
        public static void CreateSelectItem_2<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, TValue __arg0, int __seq1, global::Microsoft.AspNetCore.Components.RenderFragment __arg1)
        {
        __builder.OpenComponent<global::Blazorise.SelectItem<TValue>>(seq);
        __builder.AddAttribute(__seq0, "Value", __arg0);
        __builder.AddAttribute(__seq1, "ChildContent", __arg1);
        __builder.CloseComponent();
        }
        public static void CreateSelectItem_3<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, TValue __arg0, int __seq1, global::Microsoft.AspNetCore.Components.RenderFragment __arg1)
        {
        __builder.OpenComponent<global::Blazorise.SelectItem<TValue>>(seq);
        __builder.AddAttribute(__seq0, "Value", __arg0);
        __builder.AddAttribute(__seq1, "ChildContent", __arg1);
        __builder.CloseComponent();
        }
        public static void CreateSelectItem_4<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, TValue __arg0, int __seq1, global::Microsoft.AspNetCore.Components.RenderFragment __arg1)
        {
        __builder.OpenComponent<global::Blazorise.SelectItem<TValue>>(seq);
        __builder.AddAttribute(__seq0, "Value", __arg0);
        __builder.AddAttribute(__seq1, "ChildContent", __arg1);
        __builder.CloseComponent();
        }
    }
}
#pragma warning restore 1591
